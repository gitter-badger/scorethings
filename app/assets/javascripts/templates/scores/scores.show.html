<div ng-show="notFound">
    <h2>Could not find score</h2>
</div>
<div class="col-xs-12 col-sm-6">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">Score Info</h2>
        </div>
        <div class="panel-body">
            <form name="updatePointsForm" class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-3 control-label">User</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">
                            <a ui-sref="users.show({username: score.user.username})">{{score.user.username}}</a>
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Scored Thing</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">
                            <a ui-sref="scoredThings.show({scoredThingId: score.scoredThing.token})">{{score.scoredThing.title}}</a>
                        </p>
                    </div>
                </div>
                <div class="form-group" ng-show="score.criterion">
                    <label class="col-sm-3 control-label">Criterion</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">
                            {{score.criterion && score.criterion.name}}
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-3 control-label">Points</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">
                            <points-progressbar class="md" points="score.points">
                            </points-progressbar>
                            <div ng-form="updatePointsForm" ng-show="isEditable">
                                <div ui-slider
                                     ng-model="score.points"
                                     min="0"
                                     step="1"
                                     max="10">
                                </div>
                            </div>
                        </p>
                    </div>
                </div>
                <div class="form-group" ng-show="isEditable">
                    <div class="col-sm-12">
                        <p class="form-control-static">
                            <button class="btn btn-default btn-sm"
                                    type="submit"
                                    style="width: 100%;"
                                    ng-click="updatePoints()"
                                    ng-disabled="updatePointsForm.$pristine">
                                Update
                            </button>
                        </p>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-12">
                        <p class="form-control-static">
                            <a ui-sref="scores.new({thingId: score.scoredThing.thingId})"
                               class="btn btn-default btn-sm">New Score For {{score.scoredThing.title}}</a>
                            <button class="btn btn-default btn-sm" ng-click="showScoreHistoryModal()">History</button>
                            <button class="btn btn-danger btn-sm" ng-show="isEditable">Delete</button>
                            <br>
                            <br>
                            <twitter-share-score-button score="score">
                            </twitter-share-score-button>
                            <tumblr-share-score-button score="score">
                            </tumblr-share-score-button>
                        </p>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="col-xs-12 col-sm-6">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 class="panel-title">{{statsTitle}}</h2>
        </div>
        <div class="panel-body">
            <stats-display stats="thingCriterionStats">
            </stats-display>
        </div>
    </div>
</div>
